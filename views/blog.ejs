<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <title>Enock Mecheo - Blog & Research</title>
  <meta content="Blog posts and research articles by Enock Mecheo" name="description">
  <meta content="blog, tech, programming, software development, research, Enock Mecheo" name="keywords">
  <meta name="author" content="Enock Mecheo">

  <!-- Favicons -->
  <link href="/assets/img/favicon.png" rel="icon">
  <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Vendor CSS Files -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/glightbox@3.2.0/dist/css/glightbox.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="/assets/css/style.css" rel="stylesheet">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="blog-page">

  <!-- Top Navigation Bar -->
  <div class="top-navbar">
    <nav id="navbar" class="navbar">
      <ul>
        <li><a href="/" class="nav-link"><i class="bi bi-house navicon"></i>Home</a></li>
        <li><a href="/portfolio" class="nav-link"><i class="bi bi-images navicon"></i>Projects</a></li>
        <li><a href="/blog" class="nav-link active"><i class="bi bi-journal navicon"></i>Blog</a></li>
      </ul>
    </nav>
  </div>

  <main class="main">
    <div class="container">
      <!-- Content Type Toggle -->
      <div class="content-toggle reveal">
        <button class="toggle-btn active" data-content="blog">Blog Articles</button>
        <button class="toggle-btn" data-content="research">Research & Insights</button>
      </div>

      <!-- Blog Section -->
      <section id="blogSection" class="blog-categories reveal">
        <div class="blog-header">
          <h1 class="blog-title">Blog Articles</h1>
        </div>

        <div class="category-filters">
          <button class="category-filter active" data-category="all">All Posts</button>
          <button class="category-filter" data-category="deeplearning">Deep Learning</button>
          <button class="category-filter" data-category="webdev">Web Dev</button>
          <button class="category-filter" data-category="appdev">App Dev</button>
          <button class="category-filter" data-category="devops">DevOps</button>
          <button class="category-filter" data-category="databases">Databases</button>
        </div>

        <div class="blog-grid">
          <% if (typeof posts !== 'undefined' && posts.length > 0) { %>
            <% posts.forEach(function(post) { %>
              <article class="blog-card reveal" data-category="<%= post.category %>">
                <div class="card">
                  <% if (post.image) { %>
                    <img src="<%= post.image %>" class="card-img-top" alt="<%= post.title %>">
                  <% } %>
                  <div class="card-body">
                    <div class="post-meta">
                      <span class="post-category"><%= post.category %></span>
                      <span class="post-date"><%= post.date %></span>
                    </div>
                    <div class="post-tags">
                      <% if (post.tags && post.tags.length > 0) { %>
                        <% post.tags.forEach(function(tag) { %>
                          <span class="tag"><%= tag %></span>
                        <% }); %>
                      <% } %>
                    </div>
                    <h2 class="card-title"><%= post.title %></h2>
                    <p class="card-text"><%= post.excerpt %></p>
                    <a href="<%= post.link %>" class="animated-button" target="_blank">
                      <span class="button-text">Read on Medium</span>
                      <span class="button-line"></span>
                    </a>
                  </div>
                </div>
              </article>
            <% }); %>
          <% } else { %>
            <div class="no-posts">
              <p>No blog posts available yet. Check back soon!</p>
            </div>
          <% } %>
        </div>
      </section>

      <!-- Research Section -->
      <section id="researchSection" class="research-section reveal" style="display: none;">
        <div class="research-header">
          <h1 class="research-title">Research & Insights</h1>
          <% if (typeof isAdmin !== 'undefined' && isAdmin) { %>
            <button class="upload-btn animated-button">
              <i class="bi bi-upload"></i>
              <span class="button-text">Upload Research</span>
            </button>
          <% } %>
        </div>

        <div class="research-grid">
          <% if (typeof research !== 'undefined' && research.length > 0) { %>
            <% research.forEach(function(paper) { %>
              <div class="research-card reveal">
                <div class="card">
                  <div class="card-body">
                    <div class="research-meta">
                      <span class="research-type"><%= paper.type %></span>
                      <span class="research-date"><%= paper.date %></span>
                    </div>
                    <h2 class="card-title"><%= paper.title %></h2>
                    <p class="card-text"><%= paper.abstract %></p>
                    <div class="button-group">
                      <a href="/blog/research/<%= paper.id %>" class="animated-button">
                        <i class="bi bi-eye"></i>
                        <span class="button-text">Preview</span>
                        <span class="button-line"></span>
                      </a>
                      <a href="<%= paper.pdfUrl %>" class="animated-button" target="_blank">
                        <i class="bi bi-download"></i>
                        <span class="button-text">Download PDF</span>
                        <span class="button-line"></span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            <% }); %>
          <% } else { %>
            <div class="no-research">
              <p>No research papers available yet. Check back soon!</p>
            </div>
          <% } %>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="container">
      <p class="contact-message">Feel free to contact me through any of these channels:</p>
      <div class="social-links-footer mb-4">
        <a href="mailto:enockmecheo@nyu.edu" class="gmail"><i class="bi bi-envelope"></i></a>
        <a href="https://www.linkedin.com/in/enock-mecheo-56390b1a6/" class="linkedin" target="_blank"><i class="bi bi-linkedin"></i></a>
        <a href="https://github.com/EnockMagara" class="github" target="_blank"><i class="bi bi-github"></i></a>
      </div>
      <p class="copyright">
        <span>&copy; Copyright</span>
        <span class="sitename">EnockMecheo</span>
        <span>All Rights Reserved</span>
      </p>
    </div>
  </footer>

  <!-- Scroll Top -->
  <a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/glightbox@3.2.0/dist/js/glightbox.min.js"></script>

  <!-- Main JS File -->
  <script src="/assets/js/main.js"></script>

  <!-- Content Toggle and Category Filter Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Content Toggle
      const toggleBtns = document.querySelectorAll('.toggle-btn');
      const blogSection = document.getElementById('blogSection');
      const researchSection = document.getElementById('researchSection');

      // Function to update URL with active tab
      function updateURL(tab) {
        const url = new URL(window.location);
        url.searchParams.set('tab', tab);
        window.history.replaceState({}, '', url);
      }

      // Function to show active tab
      function showTab(tab) {
        toggleBtns.forEach(b => b.classList.remove('active'));
        if (tab === 'research') {
          document.querySelector('[data-content="research"]').classList.add('active');
          blogSection.style.display = 'none';
          researchSection.style.display = 'block';
        } else {
          document.querySelector('[data-content="blog"]').classList.add('active');
          blogSection.style.display = 'block';
          researchSection.style.display = 'none';
        }
      }

      // Check URL parameters for active tab
      const urlParams = new URLSearchParams(window.location.search);
      const activeTab = urlParams.get('tab') || 'blog';
      showTab(activeTab);

      toggleBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const contentType = this.dataset.content;
          showTab(contentType);
          updateURL(contentType);
        });
      });

      // Category Filter
      const filters = document.querySelectorAll('.category-filter');
      const posts = document.querySelectorAll('.blog-card');

      // Function to update URL with active category
      function updateCategoryURL(category) {
        const url = new URL(window.location);
        if (category === 'all') {
          url.searchParams.delete('category');
        } else {
          url.searchParams.set('category', category);
        }
        window.history.replaceState({}, '', url);
      }

      // Function to show category
      function showCategory(category) {
        filters.forEach(f => f.classList.remove('active'));
        document.querySelector(`[data-category="${category}"]`).classList.add('active');

        posts.forEach(post => {
          if (category === 'all' || post.dataset.category === category) {
            post.style.display = 'block';
            setTimeout(() => {
              post.style.opacity = '1';
              post.style.transform = 'translateY(0)';
            }, 50);
          } else {
            post.style.opacity = '0';
            post.style.transform = 'translateY(20px)';
            setTimeout(() => {
              post.style.display = 'none';
            }, 300);
          }
        });
      }

      // Check URL parameters for active category
      const activeCategory = urlParams.get('category') || 'all';
      showCategory(activeCategory);

      filters.forEach(filter => {
        filter.addEventListener('click', function() {
          const category = this.dataset.category;
          showCategory(category);
          updateCategoryURL(category);
        });
      });

      // Handle browser back/forward
      window.addEventListener('popstate', function() {
        const params = new URLSearchParams(window.location.search);
        const tab = params.get('tab') || 'blog';
        const category = params.get('category') || 'all';
        showTab(tab);
        showCategory(category);
      });
    });
  </script>
</body>

</html>
